import{S as W,i as F,s as J,F as le,e as q,c as V,a as L,d as p,b as D,g,T as pe,G as re,H as ae,I as oe,q as h,o as b,U as me,w as E,x as I,y as R,B as C,V as de,v as ge,W as he,k as O,l as Z,m as y,n as U,p as j,D as be,X as G,t as w,h as S,J as T,j as M,Q as x,O as ke,L as ve,M as we,N as Se,K as Ee}from"../chunks/vendor-cee00e4c.js";import{H as fe}from"../chunks/Headline-14ed1409.js";import{P as Ie}from"../chunks/PageWithNavigation-0a35f4ed.js";import{T as Re,Q as ce}from"../chunks/Textarea-79d98a22.js";function Ce(a){let e,s,t,l;const n=a[3].default,r=le(n,a,a[2],null);return{c(){e=q("button"),r&&r.c(),this.h()},l(f){e=V(f,"BUTTON",{class:!0});var i=L(e);r&&r.l(i),i.forEach(p),this.h()},h(){e.disabled=a[0],D(e,"class","svelte-1grfu1j")},m(f,i){g(f,e,i),r&&r.m(e,null),s=!0,t||(l=pe(e,"click",a[1]),t=!0)},p(f,[i]){r&&r.p&&(!s||i&4)&&re(r,n,f,f[2],s?oe(n,f[2],i,null):ae(f[2]),null),(!s||i&1)&&(e.disabled=f[0])},i(f){s||(h(r,f),s=!0)},o(f){b(r,f),s=!1},d(f){f&&p(e),r&&r.d(f),t=!1,l()}}}function De(a,e,s){let{$$slots:t={},$$scope:l}=e,{disabled:n=!1}=e;const r=me();function f(){r("click")}return a.$$set=i=>{"disabled"in i&&s(0,n=i.disabled),"$$scope"in i&&s(2,l=i.$$scope)},[n,f,l,t]}class H extends W{constructor(e){super();F(this,e,De,Ce,J,{disabled:0})}}function Ne(a){let e,s;const t=a[1].default,l=le(t,a,a[0],null);return{c(){e=q("div"),l&&l.c(),this.h()},l(n){e=V(n,"DIV",{class:!0});var r=L(e);l&&l.l(r),r.forEach(p),this.h()},h(){D(e,"class","svelte-gubaqs")},m(n,r){g(n,e,r),l&&l.m(e,null),s=!0},p(n,[r]){l&&l.p&&(!s||r&1)&&re(l,t,n,n[0],s?oe(t,n[0],r,null):ae(n[0]),null)},i(n){s||(h(l,n),s=!0)},o(n){b(l,n),s=!1},d(n){n&&p(e),l&&l.d(n)}}}function Qe(a,e,s){let{$$slots:t={},$$scope:l}=e;return a.$$set=n=>{"$$scope"in n&&s(0,l=n.$$scope)},[l,t]}class Te extends W{constructor(e){super();F(this,e,Qe,Ne,J,{})}}function ee(a,e,s){const t=a.slice();return t[15]=e[s],t}function qe(a){let e,s;return e=new H({props:{$$slots:{default:[Pe]},$$scope:{ctx:a}}}),e.$on("click",a[8]),{c(){E(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p(t,l){const n={};l&262144&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Ve(a){let e,s,t,l;return e=new H({props:{$$slots:{default:[Be]},$$scope:{ctx:a}}}),e.$on("click",a[8]),t=new H({props:{$$slots:{default:[He]},$$scope:{ctx:a}}}),t.$on("click",a[10]),{c(){E(e.$$.fragment),s=O(),E(t.$$.fragment)},l(n){I(e.$$.fragment,n),s=y(n),I(t.$$.fragment,n)},m(n,r){R(e,n,r),g(n,s,r),R(t,n,r),l=!0},p(n,r){const f={};r&262144&&(f.$$scope={dirty:r,ctx:n}),e.$set(f);const i={};r&262144&&(i.$$scope={dirty:r,ctx:n}),t.$set(i)},i(n){l||(h(e.$$.fragment,n),h(t.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),b(t.$$.fragment,n),l=!1},d(n){C(e,n),n&&p(s),C(t,n)}}}function Le(a){let e,s;return e=new Te({props:{$$slots:{default:[je]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p(t,l){const n={};l&262148&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Oe(a){let e,s,t,l=a[4]>0&&te(a);return s=new H({props:{$$slots:{default:[We]},$$scope:{ctx:a}}}),s.$on("click",a[9]),{c(){l&&l.c(),e=O(),E(s.$$.fragment)},l(n){l&&l.l(n),e=y(n),I(s.$$.fragment,n)},m(n,r){l&&l.m(n,r),g(n,e,r),R(s,n,r),t=!0},p(n,r){n[4]>0?l?(l.p(n,r),r&16&&h(l,1)):(l=te(n),l.c(),h(l,1),l.m(e.parentNode,e)):l&&(U(),b(l,1,1,()=>{l=null}),j());const f={};r&262144&&(f.$$scope={dirty:r,ctx:n}),s.$set(f)},i(n){t||(h(l),h(s.$$.fragment,n),t=!0)},o(n){b(l),b(s.$$.fragment,n),t=!1},d(n){l&&l.d(n),n&&p(e),C(s,n)}}}function ye(a){let e,s,t,l,n;return e=new fe({props:{$$slots:{default:[Fe]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment),s=O(),t=q("p"),l=w(a[1])},l(r){I(e.$$.fragment,r),s=y(r),t=V(r,"P",{});var f=L(t);l=S(f,a[1]),f.forEach(p)},m(r,f){R(e,r,f),g(r,s,f),g(r,t,f),T(t,l),n=!0},p(r,f){const i={};f&262144&&(i.$$scope={dirty:f,ctx:r}),e.$set(i),(!n||f&2)&&M(l,r[1])},i(r){n||(h(e.$$.fragment,r),n=!0)},o(r){b(e.$$.fragment,r),n=!1},d(r){C(e,r),r&&p(s),r&&p(t)}}}function Pe(a){let e;return{c(){e=w("Start scanning!")},l(s){e=S(s,"Start scanning!")},m(s,t){g(s,e,t)},d(s){s&&p(e)}}}function Be(a){let e;return{c(){e=w("Continue scanning")},l(s){e=S(s,"Continue scanning")},m(s,t){g(s,e,t)},d(s){s&&p(e)}}}function He(a){let e;return{c(){e=w("Reset scanning")},l(s){e=S(s,"Reset scanning")},m(s,t){g(s,e,t)},d(s){s&&p(e)}}}function Me(a){let e;return{c(){e=w("Here is the restored data:")},l(s){e=S(s,"Here is the restored data:")},m(s,t){g(s,e,t)},d(s){s&&p(e)}}}function Ue(a){let e;return{c(){e=w("Reset scanning")},l(s){e=S(s,"Reset scanning")},m(s,t){g(s,e,t)},d(s){s&&p(e)}}}function je(a){let e,s,t,l,n,r,f;e=new fe({props:{$$slots:{default:[Me]},$$scope:{ctx:a}}});function i(o){a[12](o)}let k={grow:!0};return a[2]!==void 0&&(k.value=a[2]),t=new Re({props:k}),ve.push(()=>we(t,"value",i)),r=new H({props:{$$slots:{default:[Ue]},$$scope:{ctx:a}}}),r.$on("click",a[10]),{c(){E(e.$$.fragment),s=O(),E(t.$$.fragment),n=O(),E(r.$$.fragment)},l(o){I(e.$$.fragment,o),s=y(o),I(t.$$.fragment,o),n=y(o),I(r.$$.fragment,o)},m(o,_){R(e,o,_),g(o,s,_),R(t,o,_),g(o,n,_),R(r,o,_),f=!0},p(o,_){const v={};_&262144&&(v.$$scope={dirty:_,ctx:o}),e.$set(v);const m={};!l&&_&4&&(l=!0,m.value=o[2],Se(()=>l=!1)),t.$set(m);const c={};_&262144&&(c.$$scope={dirty:_,ctx:o}),r.$set(c)},i(o){f||(h(e.$$.fragment,o),h(t.$$.fragment,o),h(r.$$.fragment,o),f=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),b(r.$$.fragment,o),f=!1},d(o){C(e,o),o&&p(s),C(t,o),o&&p(n),C(r,o)}}}function te(a){let e,s,t,l,n,r,f,i,k,o,_,v,m=new Array(a[4]).fill(1).map(a[11]),c=[];for(let u=0;u<m.length;u+=1)c[u]=se(ee(a,m,u));const N=u=>b(c[u],1,1,()=>{c[u]=null});return{c(){e=q("div"),s=q("div"),l=O(),n=q("div"),r=w(a[3]),f=w(" of "),i=w(a[4]),k=w(" QR codes scanned."),o=O(),_=q("ul");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=V(u,"DIV",{class:!0});var d=L(e);s=V(d,"DIV",{class:!0,style:!0}),L(s).forEach(p),d.forEach(p),l=y(u),n=V(u,"DIV",{class:!0});var $=L(n);r=S($,a[3]),f=S($," of "),i=S($,a[4]),k=S($," QR codes scanned."),$.forEach(p),o=y(u),_=V(u,"UL",{class:!0});var Q=L(_);for(let B=0;B<c.length;B+=1)c[B].l(Q);Q.forEach(p),this.h()},h(){D(s,"class","progress svelte-or2wk5"),D(s,"style",t=`width: ${100*a[3]/a[4]}%;`),D(e,"class","progressBar svelte-or2wk5"),D(n,"class","progressText svelte-or2wk5"),D(_,"class","qrcodes svelte-or2wk5")},m(u,d){g(u,e,d),T(e,s),g(u,l,d),g(u,n,d),T(n,r),T(n,f),T(n,i),T(n,k),g(u,o,d),g(u,_,d);for(let $=0;$<c.length;$+=1)c[$].m(_,null);v=!0},p(u,d){if((!v||d&24&&t!==(t=`width: ${100*u[3]/u[4]}%;`))&&D(s,"style",t),(!v||d&8)&&M(r,u[3]),(!v||d&16)&&M(i,u[4]),d&48){m=new Array(u[4]).fill(1).map(u[11]);let $;for($=0;$<m.length;$+=1){const Q=ee(u,m,$);c[$]?(c[$].p(Q,d),h(c[$],1)):(c[$]=se(Q),c[$].c(),h(c[$],1),c[$].m(_,null))}for(U(),$=m.length;$<c.length;$+=1)N($);j()}},i(u){if(!v){for(let d=0;d<m.length;d+=1)h(c[d]);v=!0}},o(u){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)b(c[d]);v=!1},d(u){u&&p(e),u&&p(l),u&&p(n),u&&p(o),u&&p(_),ke(c,u)}}}function Ae(a){let e,s;return e=new ce({props:{value:"..."}}),{c(){E(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p:Ee,i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Ge(a){let e,s;return e=new ce({props:{value:a[15].chunk}}),{c(){E(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p(t,l){const n={};l&48&&(n.value=t[15].chunk),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function se(a){let e,s,t,l,n,r=a[15].index+1+"",f,i,k;const o=[Ge,Ae],_=[];function v(m,c){return m[15].chunk?0:1}return s=v(a),t=_[s]=o[s](a),{c(){e=q("li"),t.c(),l=O(),n=q("div"),f=w(r),i=O(),this.h()},l(m){e=V(m,"LI",{class:!0});var c=L(e);t.l(c),l=y(c),n=V(c,"DIV",{});var N=L(n);f=S(N,r),N.forEach(p),i=y(c),c.forEach(p),this.h()},h(){D(e,"class","qrcode svelte-or2wk5"),x(e,"scanned",!!a[15].chunk)},m(m,c){g(m,e,c),_[s].m(e,null),T(e,l),T(e,n),T(n,f),T(e,i),k=!0},p(m,c){let N=s;s=v(m),s===N?_[s].p(m,c):(U(),b(_[N],1,1,()=>{_[N]=null}),j(),t=_[s],t?t.p(m,c):(t=_[s]=o[s](m),t.c()),h(t,1),t.m(e,l)),(!k||c&48)&&r!==(r=m[15].index+1+"")&&M(f,r),c&48&&x(e,"scanned",!!m[15].chunk)},i(m){k||(h(t),k=!0)},o(m){b(t),k=!1},d(m){m&&p(e),_[s].d()}}}function We(a){let e;return{c(){e=w("Stop scanning!")},l(s){e=S(s,"Stop scanning!")},m(s,t){g(s,e,t)},d(s){s&&p(e)}}}function Fe(a){let e;return{c(){e=w("Error scanning!")},l(s){e=S(s,"Error scanning!")},m(s,t){g(s,e,t)},d(s){s&&p(e)}}}function Je(a){let e,s,t,l,n,r;const f=[ye,Oe,Le,Ve,qe],i=[];function k(o,_){return o[0]==="ERROR"?0:o[0]==="SCANNING"?1:o[0]==="RESULT"?2:o[0]==="STOPPED"?3:4}return t=k(a),l=i[t]=f[t](a),{c(){e=q("div"),s=O(),l.c(),n=Z(),this.h()},l(o){e=V(o,"DIV",{id:!0,class:!0}),L(e).forEach(p),s=y(o),l.l(o),n=Z(),this.h()},h(){D(e,"id",a[7]),D(e,"class","reader svelte-or2wk5")},m(o,_){g(o,e,_),g(o,s,_),i[t].m(o,_),g(o,n,_),r=!0},p(o,_){let v=t;t=k(o),t===v?i[t].p(o,_):(U(),b(i[v],1,1,()=>{i[v]=null}),j(),l=i[t],l?l.p(o,_):(l=i[t]=f[t](o),l.c()),h(l,1),l.m(n.parentNode,n))},i(o){r||(h(l),r=!0)},o(o){b(l),r=!1},d(o){o&&p(e),o&&p(s),i[t].d(o),o&&p(n)}}}function Ke(a){let e,s;return e=new Ie({props:{$$slots:{default:[Je]},$$scope:{ctx:a}}}),{c(){E(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){R(e,t,l),s=!0},p(t,[l]){const n={};l&262207&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){s||(h(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}let Xe=0;function ze(a){return`${a}${++Xe}`}function ne(a){return`${a}`.padStart(2,"0")}function Ye(a,e,s){let t,l="INIT",n=null,r="",f=be({});de(a,f,$=>s(5,t=$));let i,k=0,o=0;const _=ze("reader_");ge(()=>{i=new he(_)});async function v(){const $=async P=>{const K=P.substring(0,8),ue=P.substring(9),_e=K.slice(-2),X=parseInt(_e,10)+1;if(o!==X&&(G(f,t={},t),s(4,o=X)),G(f,t[K]=ue,t),s(3,k=Object.keys(t).length),k===o){await c(),s(0,l="RESULT");const z=Object.entries(t);z.sort(([A],[Y])=>A<Y?-1:1),s(2,r=z.reduce((A,[Y,$e])=>A+$e,""))}},Q=(P,ie)=>{},B={fps:250};try{await i.start({facingMode:"environment"},B,$,Q),s(0,l="SCANNING")}catch(P){console.error(P),s(1,n=P.message)}}async function m(){await c(),s(0,l="STOPPED")}async function c(){try{await i.stop()}catch($){console.error($),s(1,n=$.message)}}async function N(){await c(),G(f,t={},t),s(2,r=""),s(3,k=0),s(4,o=0),await v()}const u=($,Q)=>({index:Q,chunk:t[`MQR${ne(Q)}.${ne(o-1)}`]});function d($){r=$,s(2,r)}return[l,n,r,k,o,t,f,_,v,m,N,u,d]}class st extends W{constructor(e){super();F(this,e,Ye,Ke,J,{})}}export{st as default};
