import{S as F,i as J,s as K,F as oe,e as E,c as S,a as I,d as p,b as O,g,T as ae,G as ie,H as fe,I as ce,q as v,o as k,U as ke,t as y,k as q,l as G,h as T,m as M,J as C,n as A,p as j,V as ue,D as _e,W as L,j as H,X as $e,Y as pe,Z as de,K as me,_ as W,w as N,x as D,y as R,B as Q,v as we,$ as ye,Q as ee,O as Te,L as Ce,M as Ee,N as Se}from"../chunks/vendor-9a19305e.js";import{H as ge}from"../chunks/Headline-1ba20cc5.js";import{P as Ie}from"../chunks/PageWithNavigation-a02ad847.js";import{T as Ne,Q as be}from"../chunks/Textarea-7fa15d33.js";function De(o){let e,n,t,l;const s=o[3].default,r=oe(s,o,o[2],null);return{c(){e=E("button"),r&&r.c(),this.h()},l(a){e=S(a,"BUTTON",{class:!0});var i=I(e);r&&r.l(i),i.forEach(p),this.h()},h(){e.disabled=o[0],O(e,"class","svelte-1grfu1j")},m(a,i){g(a,e,i),r&&r.m(e,null),n=!0,t||(l=ae(e,"click",o[1]),t=!0)},p(a,[i]){r&&r.p&&(!n||i&4)&&ie(r,s,a,a[2],n?ce(s,a[2],i,null):fe(a[2]),null),(!n||i&1)&&(e.disabled=a[0])},i(a){n||(v(r,a),n=!0)},o(a){k(r,a),n=!1},d(a){a&&p(e),r&&r.d(a),t=!1,l()}}}function Re(o,e,n){let{$$slots:t={},$$scope:l}=e,{disabled:s=!1}=e;const r=ke();function a(){r("click")}return o.$$set=i=>{"disabled"in i&&n(0,s=i.disabled),"$$scope"in i&&n(2,l=i.$$scope)},[s,a,l,t]}class U extends F{constructor(e){super();J(this,e,Re,De,K,{disabled:0})}}function Qe(o){let e,n=o[0].message+"",t,l,s,r;return{c(){e=E("div"),t=y(n)},l(a){e=S(a,"DIV",{});var i=I(e);t=T(i,n),i.forEach(p)},m(a,i){g(a,e,i),C(e,t),r=!0},p(a,i){(!r||i&1)&&n!==(n=a[0].message+"")&&H(t,n)},i(a){r||($e(()=>{s&&s.end(1),l=pe(e,W,{}),l.start()}),r=!0)},o(a){l&&l.invalidate(),s=de(e,W,{}),r=!1},d(a){a&&p(e),a&&s&&s.end()}}}function qe(o){let e,n,t,l,s;return{c(){e=E("div"),n=y("Copied!")},l(r){e=S(r,"DIV",{});var a=I(e);n=T(a,"Copied!"),a.forEach(p)},m(r,a){g(r,e,a),C(e,n),s=!0},p:me,i(r){s||($e(()=>{l&&l.end(1),t=pe(e,W,{}),t.start()}),s=!0)},o(r){t&&t.invalidate(),l=de(e,W,{}),s=!1},d(r){r&&p(e),r&&l&&l.end()}}}function Me(o){let e,n,t,l,s,r,a,i,h;const _=[qe,Qe],d=[];function c(f,u){return f[0].type==="copied"?0:f[0].type==="error"?1:-1}return~(l=c(o))&&(s=d[l]=_[l](o)),{c(){e=E("button"),n=y("Copy to clipboard"),t=q(),s&&s.c(),r=G()},l(f){e=S(f,"BUTTON",{});var u=I(e);n=T(u,"Copy to clipboard"),u.forEach(p),t=M(f),s&&s.l(f),r=G()},m(f,u){g(f,e,u),C(e,n),g(f,t,u),~l&&d[l].m(f,u),g(f,r,u),a=!0,i||(h=ae(e,"click",o[2]),i=!0)},p(f,[u]){let w=l;l=c(f),l===w?~l&&d[l].p(f,u):(s&&(A(),k(d[w],1,1,()=>{d[w]=null}),j()),~l?(s=d[l],s?s.p(f,u):(s=d[l]=_[l](f),s.c()),v(s,1),s.m(r.parentNode,r)):s=null)},i(f){a||(v(s),a=!0)},o(f){k(s),a=!1},d(f){f&&p(e),f&&p(t),~l&&d[l].d(f),f&&p(r),i=!1,h()}}}const te=4e3;function Oe(o,e,n){let t,{textToCopy:l}=e,{errorMessage:s="Could not copy to clipboard"}=e;const r=_e({type:"idle"});ue(o,r,i=>n(0,t=i));async function a(){try{await navigator.clipboard.writeText(l),L(r,t={type:"copied"},t),setTimeout(()=>{L(r,t={type:"idle"},t)},te)}catch{L(r,t={type:"error",message:s},t),setTimeout(()=>{L(r,t={type:"idle"},t)},te)}}return o.$$set=i=>{"textToCopy"in i&&n(3,l=i.textToCopy),"errorMessage"in i&&n(4,s=i.errorMessage)},[t,r,a,l,s]}class Ve extends F{constructor(e){super();J(this,e,Oe,Me,K,{textToCopy:3,errorMessage:4})}}function Le(o){let e,n;const t=o[1].default,l=oe(t,o,o[0],null);return{c(){e=E("div"),l&&l.c(),this.h()},l(s){e=S(s,"DIV",{class:!0});var r=I(e);l&&l.l(r),r.forEach(p),this.h()},h(){O(e,"class","svelte-gubaqs")},m(s,r){g(s,e,r),l&&l.m(e,null),n=!0},p(s,[r]){l&&l.p&&(!n||r&1)&&ie(l,t,s,s[0],n?ce(t,s[0],r,null):fe(s[0]),null)},i(s){n||(v(l,s),n=!0)},o(s){k(l,s),n=!1},d(s){s&&p(e),l&&l.d(s)}}}function Be(o,e,n){let{$$slots:t={},$$scope:l}=e;return o.$$set=s=>{"$$scope"in s&&n(0,l=s.$$scope)},[l,t]}class Pe extends F{constructor(e){super();J(this,e,Be,Le,K,{})}}function ne(o,e,n){const t=o.slice();return t[15]=e[n],t}function He(o){let e,n;return e=new U({props:{$$slots:{default:[We]},$$scope:{ctx:o}}}),e.$on("click",o[8]),{c(){N(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&262144&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Ue(o){let e,n,t,l;return e=new U({props:{$$slots:{default:[Fe]},$$scope:{ctx:o}}}),e.$on("click",o[8]),t=new U({props:{$$slots:{default:[Je]},$$scope:{ctx:o}}}),t.$on("click",o[10]),{c(){N(e.$$.fragment),n=q(),N(t.$$.fragment)},l(s){D(e.$$.fragment,s),n=M(s),D(t.$$.fragment,s)},m(s,r){R(e,s,r),g(s,n,r),R(t,s,r),l=!0},p(s,r){const a={};r&262144&&(a.$$scope={dirty:r,ctx:s}),e.$set(a);const i={};r&262144&&(i.$$scope={dirty:r,ctx:s}),t.$set(i)},i(s){l||(v(e.$$.fragment,s),v(t.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),l=!1},d(s){Q(e,s),s&&p(n),Q(t,s)}}}function Ae(o){let e,n;return e=new Pe({props:{$$slots:{default:[Ye]},$$scope:{ctx:o}}}),{c(){N(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&262148&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function je(o){let e,n,t,l=o[4]>0&&se(o);return n=new U({props:{$$slots:{default:[xe]},$$scope:{ctx:o}}}),n.$on("click",o[9]),{c(){l&&l.c(),e=q(),N(n.$$.fragment)},l(s){l&&l.l(s),e=M(s),D(n.$$.fragment,s)},m(s,r){l&&l.m(s,r),g(s,e,r),R(n,s,r),t=!0},p(s,r){s[4]>0?l?(l.p(s,r),r&16&&v(l,1)):(l=se(s),l.c(),v(l,1),l.m(e.parentNode,e)):l&&(A(),k(l,1,1,()=>{l=null}),j());const a={};r&262144&&(a.$$scope={dirty:r,ctx:s}),n.$set(a)},i(s){t||(v(l),v(n.$$.fragment,s),t=!0)},o(s){k(l),k(n.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&p(e),Q(n,s)}}}function Ge(o){let e,n,t,l,s;return e=new ge({props:{$$slots:{default:[et]},$$scope:{ctx:o}}}),{c(){N(e.$$.fragment),n=q(),t=E("p"),l=y(o[1])},l(r){D(e.$$.fragment,r),n=M(r),t=S(r,"P",{});var a=I(t);l=T(a,o[1]),a.forEach(p)},m(r,a){R(e,r,a),g(r,n,a),g(r,t,a),C(t,l),s=!0},p(r,a){const i={};a&262144&&(i.$$scope={dirty:a,ctx:r}),e.$set(i),(!s||a&2)&&H(l,r[1])},i(r){s||(v(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){Q(e,r),r&&p(n),r&&p(t)}}}function We(o){let e;return{c(){e=y("Start scanning!")},l(n){e=T(n,"Start scanning!")},m(n,t){g(n,e,t)},d(n){n&&p(e)}}}function Fe(o){let e;return{c(){e=y("Continue scanning")},l(n){e=T(n,"Continue scanning")},m(n,t){g(n,e,t)},d(n){n&&p(e)}}}function Je(o){let e;return{c(){e=y("Reset scanning")},l(n){e=T(n,"Reset scanning")},m(n,t){g(n,e,t)},d(n){n&&p(e)}}}function Ke(o){let e;return{c(){e=y("Here is the restored data:")},l(n){e=T(n,"Here is the restored data:")},m(n,t){g(n,e,t)},d(n){n&&p(e)}}}function Xe(o){let e;return{c(){e=y("Reset scanning")},l(n){e=T(n,"Reset scanning")},m(n,t){g(n,e,t)},d(n){n&&p(e)}}}function Ye(o){let e,n,t,l,s,r,a,i,h;e=new ge({props:{$$slots:{default:[Ke]},$$scope:{ctx:o}}});function _(c){o[12](c)}let d={grow:!0};return o[2]!==void 0&&(d.value=o[2]),t=new Ne({props:d}),Ce.push(()=>Ee(t,"value",_)),r=new Ve({props:{textToCopy:o[2]}}),i=new U({props:{$$slots:{default:[Xe]},$$scope:{ctx:o}}}),i.$on("click",o[10]),{c(){N(e.$$.fragment),n=q(),N(t.$$.fragment),s=q(),N(r.$$.fragment),a=q(),N(i.$$.fragment)},l(c){D(e.$$.fragment,c),n=M(c),D(t.$$.fragment,c),s=M(c),D(r.$$.fragment,c),a=M(c),D(i.$$.fragment,c)},m(c,f){R(e,c,f),g(c,n,f),R(t,c,f),g(c,s,f),R(r,c,f),g(c,a,f),R(i,c,f),h=!0},p(c,f){const u={};f&262144&&(u.$$scope={dirty:f,ctx:c}),e.$set(u);const w={};!l&&f&4&&(l=!0,w.value=c[2],Se(()=>l=!1)),t.$set(w);const $={};f&4&&($.textToCopy=c[2]),r.$set($);const b={};f&262144&&(b.$$scope={dirty:f,ctx:c}),i.$set(b)},i(c){h||(v(e.$$.fragment,c),v(t.$$.fragment,c),v(r.$$.fragment,c),v(i.$$.fragment,c),h=!0)},o(c){k(e.$$.fragment,c),k(t.$$.fragment,c),k(r.$$.fragment,c),k(i.$$.fragment,c),h=!1},d(c){Q(e,c),c&&p(n),Q(t,c),c&&p(s),Q(r,c),c&&p(a),Q(i,c)}}}function se(o){let e,n,t,l,s,r,a,i,h,_,d,c,f=new Array(o[4]).fill(1).map(o[11]),u=[];for(let $=0;$<f.length;$+=1)u[$]=le(ne(o,f,$));const w=$=>k(u[$],1,1,()=>{u[$]=null});return{c(){e=E("div"),n=E("div"),l=q(),s=E("div"),r=y(o[3]),a=y(" of "),i=y(o[4]),h=y(" QR codes scanned."),_=q(),d=E("ul");for(let $=0;$<u.length;$+=1)u[$].c();this.h()},l($){e=S($,"DIV",{class:!0});var b=I(e);n=S(b,"DIV",{class:!0,style:!0}),I(n).forEach(p),b.forEach(p),l=M($),s=S($,"DIV",{class:!0});var m=I(s);r=T(m,o[3]),a=T(m," of "),i=T(m,o[4]),h=T(m," QR codes scanned."),m.forEach(p),_=M($),d=S($,"UL",{class:!0});var V=I(d);for(let B=0;B<u.length;B+=1)u[B].l(V);V.forEach(p),this.h()},h(){O(n,"class","progress svelte-uxd3o6"),O(n,"style",t=`width: ${100*o[3]/o[4]}%;`),O(e,"class","progressBar svelte-uxd3o6"),O(s,"class","progressText svelte-uxd3o6"),O(d,"class","qrcodes svelte-uxd3o6")},m($,b){g($,e,b),C(e,n),g($,l,b),g($,s,b),C(s,r),C(s,a),C(s,i),C(s,h),g($,_,b),g($,d,b);for(let m=0;m<u.length;m+=1)u[m].m(d,null);c=!0},p($,b){if((!c||b&24&&t!==(t=`width: ${100*$[3]/$[4]}%;`))&&O(n,"style",t),(!c||b&8)&&H(r,$[3]),(!c||b&16)&&H(i,$[4]),b&48){f=new Array($[4]).fill(1).map($[11]);let m;for(m=0;m<f.length;m+=1){const V=ne($,f,m);u[m]?(u[m].p(V,b),v(u[m],1)):(u[m]=le(V),u[m].c(),v(u[m],1),u[m].m(d,null))}for(A(),m=f.length;m<u.length;m+=1)w(m);j()}},i($){if(!c){for(let b=0;b<f.length;b+=1)v(u[b]);c=!0}},o($){u=u.filter(Boolean);for(let b=0;b<u.length;b+=1)k(u[b]);c=!1},d($){$&&p(e),$&&p(l),$&&p(s),$&&p(_),$&&p(d),Te(u,$)}}}function Ze(o){let e,n;return e=new be({props:{value:"..."}}),{c(){N(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p:me,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function ze(o){let e,n;return e=new be({props:{value:o[15].chunk}}),{c(){N(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,l){const s={};l&48&&(s.value=t[15].chunk),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function le(o){let e,n,t,l,s,r=o[15].index+1+"",a,i,h;const _=[ze,Ze],d=[];function c(f,u){return f[15].chunk?0:1}return n=c(o),t=d[n]=_[n](o),{c(){e=E("li"),t.c(),l=q(),s=E("div"),a=y(r),i=q(),this.h()},l(f){e=S(f,"LI",{class:!0});var u=I(e);t.l(u),l=M(u),s=S(u,"DIV",{});var w=I(s);a=T(w,r),w.forEach(p),i=M(u),u.forEach(p),this.h()},h(){O(e,"class","qrcode svelte-uxd3o6"),ee(e,"scanned",!!o[15].chunk)},m(f,u){g(f,e,u),d[n].m(e,null),C(e,l),C(e,s),C(s,a),C(e,i),h=!0},p(f,u){let w=n;n=c(f),n===w?d[n].p(f,u):(A(),k(d[w],1,1,()=>{d[w]=null}),j(),t=d[n],t?t.p(f,u):(t=d[n]=_[n](f),t.c()),v(t,1),t.m(e,l)),(!h||u&48)&&r!==(r=f[15].index+1+"")&&H(a,r),u&48&&ee(e,"scanned",!!f[15].chunk)},i(f){h||(v(t),h=!0)},o(f){k(t),h=!1},d(f){f&&p(e),d[n].d()}}}function xe(o){let e;return{c(){e=y("Stop scanning!")},l(n){e=T(n,"Stop scanning!")},m(n,t){g(n,e,t)},d(n){n&&p(e)}}}function et(o){let e;return{c(){e=y("Error scanning!")},l(n){e=T(n,"Error scanning!")},m(n,t){g(n,e,t)},d(n){n&&p(e)}}}function tt(o){let e,n,t,l,s,r;const a=[Ge,je,Ae,Ue,He],i=[];function h(_,d){return _[0]==="ERROR"?0:_[0]==="SCANNING"?1:_[0]==="RESULT"?2:_[0]==="STOPPED"?3:4}return t=h(o),l=i[t]=a[t](o),{c(){e=E("div"),n=q(),l.c(),s=G(),this.h()},l(_){e=S(_,"DIV",{id:!0,class:!0}),I(e).forEach(p),n=M(_),l.l(_),s=G(),this.h()},h(){O(e,"id",o[7]),O(e,"class","reader svelte-uxd3o6")},m(_,d){g(_,e,d),g(_,n,d),i[t].m(_,d),g(_,s,d),r=!0},p(_,d){let c=t;t=h(_),t===c?i[t].p(_,d):(A(),k(i[c],1,1,()=>{i[c]=null}),j(),l=i[t],l?l.p(_,d):(l=i[t]=a[t](_),l.c()),v(l,1),l.m(s.parentNode,s))},i(_){r||(v(l),r=!0)},o(_){k(l),r=!1},d(_){_&&p(e),_&&p(n),i[t].d(_),_&&p(s)}}}function nt(o){let e,n;return e=new Ie({props:{$$slots:{default:[tt]},$$scope:{ctx:o}}}),{c(){N(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,l){R(e,t,l),n=!0},p(t,[l]){const s={};l&262207&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}let st=0;function lt(o){return`${o}${++st}`}function re(o){return`${o}`.padStart(2,"0")}function rt(o,e,n){let t,l="INIT",s=null,r="",a=_e({});ue(o,a,m=>n(5,t=m));let i,h=0,_=0;const d=lt("reader_");we(()=>{i=new ye(d)});async function c(){const m=async P=>{const Z=P.substring(0,8),ve=P.substring(9),he=Z.slice(-2),z=parseInt(he,10)+1;if(_!==z&&(L(a,t={},t),n(4,_=z)),L(a,t[Z]=ve,t),n(3,h=Object.keys(t).length),h===_){await u(),n(0,l="RESULT");const x=Object.entries(t);x.sort(([X],[Y])=>X<Y?-1:1),n(2,r=x.reduce((X,[,Y])=>X+Y,""))}},V=()=>{},B={fps:250};try{await i.start({facingMode:"environment"},B,m,V),n(0,l="SCANNING")}catch(P){console.error(P),n(1,s=P.message)}}async function f(){await u(),n(0,l="STOPPED")}async function u(){try{await i.stop()}catch(m){console.error(m),n(1,s=m.message)}}async function w(){await u(),L(a,t={},t),n(2,r=""),n(3,h=0),n(4,_=0),await c()}const $=(m,V)=>({index:V,chunk:t[`MQR${re(V)}.${re(_-1)}`]});function b(m){r=m,n(2,r)}return[l,s,r,h,_,t,a,d,c,f,w,$,b]}class ut extends F{constructor(e){super();J(this,e,rt,nt,K,{})}}export{ut as default};
